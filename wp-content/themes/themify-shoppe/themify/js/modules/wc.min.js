(($,n,d,_,f,w)=>{'use strict';let a=!1,p=!1,m=d.querySelector('form.variations_form select'),u=[];const g=f.wc_js['wc-add-to-cart-variation'],v=f.wc_js.wc_additional_variation_images_script,h=d.tfClass('woocommerce-ordering')[0],y=function(){this.closest('form').submit()},o=d.querySelectorAll('input.qty[min]'),r=async e=>{if(f.photoswipe){e.preventDefault(),e.stopImmediatePropagation();const t=f.wc_version,o=e.currentTarget;await Promise.all([n.loadCss(f.photoswipe.main,null,t),n.loadCss(f.photoswipe.skin,null,t)]),setTimeout(()=>{o.click()},5)}},i=async(t,o,c,a)=>{const i=f.wc_js,e=f.wc_version,r=t&&!0!==t,s=e=>{delete i[e],0===Object.keys(i).length&&(n.body.off('click.tf_wc_click').off('added_to_cart removed_from_cart',k),h&&h.tfOff('change',y,{passive:!0,once:!0}),setTimeout(()=>{if(t&&!0!==t&&'load'!==t)if('click'===t.type)for(let e=0,t=u.length;e<t;++e)u[e].isConnected&&u[e].click();else n.body.triggerHandler(t.type,[o,c,a]);u=null,n.trigger('tf_wc_js_load')},5))},l=async()=>{const t=d.tfClass('variations_form');if(t[0]||0<d.tfClass('wcpa_form_outer').length){v&&n.loadJs(v,$.wc_additional_variation_images_frontend!==w,-1===v.indexOf('ver=',12)&&e),await n.loadJs(f.includesURL+'js/underscore.min',void 0!==_._,f.wp),await Promise.all([n.loadJs(f.includesURL+'js/wp-util.min',_.wp!==w&&w!==_.wp.template,f.wp),n.loadJs(g,void 0!==$.fn.wc_variation_form,e)]);for(let e=t.length-1;-1<e;--e)$(t[e]).wc_variation_form();m&&p&&n.triggerEvent(m,'change'),m=p=null}};!0===r&&(i['jquery-blockui']&&n.loadJs(i['jquery-blockui'],$.blockUI===w,-1===i['jquery-blockui'].indexOf('ver=',12)&&e).then(()=>{s('jquery-blockui')}),i['wc-add-to-cart']?n.loadJs(i['wc-add-to-cart'],f.wc_js_normal!==w,-1===i['wc-add-to-cart'].indexOf('ver=',12)&&e).then(()=>{s('wc-add-to-cart'),l()}):l(),$.fn.wc_product_gallery||'undefined'==typeof wc_single_product_params?delete i['wc-single-product']:i['wc-single-product']&&n.loadJs(i['wc-single-product'],$.fn.wc_product_gallery!==w,-1===i['wc-single-product'].indexOf('ver=',12)&&e).then(()=>{s('wc-single-product'),n.trigger('tf_init_photoswipe')})),i['js-cookie']&&(await n.loadJs(i['js-cookie'],!!_.Cookies,-1===i['js-cookie'].indexOf('ver=',12)&&e),await n.loadJs(i['wc-cart-fragments'],f.wc_js_normal!==w,-1===i['wc-cart-fragments'].indexOf('ver=',12)&&e),s('js-cookie'),s('wc-cart-fragments'),!0!==r)||(async()=>{i.woocommerce&&await n.loadJs(i.woocommerce,$.scroll_to_notices!==w,-1===i.woocommerce.indexOf('ver=',12)&&e),s('woocommerce')})()},k=(e,t,o,c)=>{!1===a&&(a=!0,i(e,t,o,c))};if(n.body.one('added_to_cart removed_from_cart',k).on('click.tf_wc_click','.ajax_add_to_cart,.remove_from_cart_button',e=>{e.preventDefault(),e.stopImmediatePropagation(),e.target.classList.contains('loading')||(u.push(e.target),e.target.classList.add('loading')),!1===a&&(a=!0,i(e))}),null!==m){const c=e=>{if(!p){const t=n.isTouch?'touchstart':'mousemove';_.tfOff('scroll '+t,c,{once:!0,passive:!0}),m.tfOff('change',c,{once:!0,passive:!0}),e&&'change'===e.type&&e.stopImmediatePropagation(),!1===a&&(a=p=!0,i('load'))}};_.tfOn('scroll '+(n.isTouch?'touchstart':'mousemove'),c,{once:!0,passive:!0}),m.tfOn('change',c,{once:!0,passive:!0}),m.value&&n.requestIdleCallback(c,1500)}h&&h.tfOn('change',y,{passive:!0,once:!0});for(let t=o.length-1;-1<t;--t){let e=parseFloat(o[t].min);0<=e&&parseFloat(o[t].value)<e&&(o[t].value=e)}delete f.wc_js['wc-add-to-cart-variation'],delete f.wc_js.wc_additional_variation_images_script,n.on('tf_wc_init',e=>{!0===e||null!==d.querySelector('.woocommerce-input-wrapper,.woocommerce-store-notice')?i('load'):i(!0),(async()=>{const e=d.tfClass('tf_wc_accordion')[0];e&&(await n.loadJs('wc-accordion-tabs'),n.trigger('tf_wc_acc_tabs_init',[e]))})(),n.trigger('tf_init_photoswipe')}).on('tf_init_photoswipe',e=>{if($.fn.wc_product_gallery&&'undefined'!=typeof wc_single_product_params)if(wc_single_product_params.photoswipe_enabled){const i=(e=e||d).tfClass('woocommerce-product-gallery');for(let a=i.length-1;-1<a;--a){let t=$(i[a]),e=i[a].tfClass('woocommerce-product-gallery__trigger')[0];if(!t.data('product_gallery')){t.wc_product_gallery(wc_single_product_params);let e=t.data('flexslider');e&&setTimeout(()=>{e.resize()},100)}e&&e.tfOn('click',r,{once:!0});let o=i[a].tfClass('woocommerce-product-gallery__image'),c='function'==typeof $.fn.flexslider&&wc_single_product_params.flexslider_enabled&&1<o.length;if(!c&&1===o.length){let e=o[0].tfTag('a')[0];e&&e.tfOn('click',r,{once:!0})}}}else n.off('tf_init_photoswipe')}).trigger('tf_init_photoswipe')})(jQuery,Themify,document,window,themify_vars,void 0);